apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  
  name: list-directory
  namespace: demo-cicd
  
spec:
  description: Simple directory lister
  params:
    - default:
        - .
      description: the sub-directories under workspace
      name: sub-dirs
      type: array
  results:
    - description: echo the README of the repo
      name: README
      type: string
  steps:
    - args:
        - '-ltr'
        - $(params.sub-dirs)
      command:
        - ls
      image: busybox
      name: list-directory
      resources: {}
      workingDir: $(workspaces.directory.path)
  workspaces:
    - name: directory
